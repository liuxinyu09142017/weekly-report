// ============================================
// 完整项目阶段定义 V2.0
// 包含：新建、升级、搬迁、应急、扩容、优化
// 总计：约380个专业阶段
// ============================================

// ============================================
// 售前项目阶段（37个）
// ============================================
const presalesStages = [
    '初步接触', '客户拜访', '需求挖掘', '商机识别', '需求调研',
    '预算确认', '决策流程了解', '时间计划确认', '资格评估',
    '需求分析', '技术交流', '方案设计', '方案评审', '成本估算',
    '方案演示', 'POC测试', '技术答疑', '现场勘查', '深度技术交流',
    '投标准备', 'RFP响应', '投标答辩', '商务报价', '合规审查',
    '合同谈判', '价格谈判', '付款条件谈判', 'SLA谈判', '风险评估',
    '合同审批', '法务审核', '合同签署', '项目立项',
    '项目暂停', '客户关系维护', '其他售前活动', '待定'
];

// ============================================
// 网络项目阶段（56个基础 + 30个特征 = 86个）
// ============================================
const networkStages = [
    // === 基础阶段（56个）===
    '需求分析', '网络拓扑设计', '设备选型', 'IP地址规划', 'VLAN规划', '路由规划', '安全策略设计',
    '网络布线', '设备安装上架', '交换机配置', '路由器配置', 'VLAN配置', '链路聚合配置',
    '数据中心网络设计', '核心交换配置', '服务器接入配置', '存储网络配置',
    'WAN链路配置', 'MPLS配置', 'VPN配置', 'SD-WAN部署',
    '无线AP部署', 'AC控制器配置', '无线网络优化', '无线覆盖测试',
    'IP电话系统设计', 'CUCM服务器部署', '语音网关配置', 'SIP中继配置', '话机配置', '语音质量测试',
    '视频会议系统部署', 'MCU配置', '视频终端配置', '视频会议测试',
    '防火墙部署', '防火墙策略配置', 'IPS/IDS部署', '堡垒机部署', '上网行为管理', 'NAC部署',
    '网络连通性测试', '网络性能测试', '网络安全测试', '压力测试', '故障切换测试',
    '网络监控部署', '网络运维', '网络优化', '故障排查', '设备维护', '配置备份',
    '网络割接', '网络扩容', '网络升级', '应急响应',
    
    // === 升级替换专项（7个）===
    '现状评估', '升级方案设计', '兼容性测试', '数据备份', '设备替换安装', '配置迁移', '旧设备下线',
    
    // === 搬迁项目专项（10个）===
    '设备清单盘点', '设备拆卸打包', '设备运输', '设备重新安装', '网络重新连接', '网络割接', '业务系统割接', '功能验证测试', '性能测试', '搬迁验收',
    
    // === 应急项目专项（5个）===
    '应急响应', '故障定位', '临时方案实施', '业务快速恢复', '应急总结',
    
    // === 扩容项目专项（5个）===
    '容量评估', '扩容方案设计', '设备采购安装', '配置扩展', '扩容测试验证',
    
    // === 优化项目专项（3个）===
    '性能分析', '优化方案实施', '优化效果验证'
];

// ============================================
// 系统项目阶段（61个基础 + 30个特征 = 91个）
// ============================================
const systemStages = [
    // === 基础阶段（61个）===
    '需求分析', '系统架构设计', '容量规划', '高可用设计', '灾备方案设计', '服务器选型', '存储选型',
    '服务器安装上架', 'RAID配置', '操作系统安装', '系统初始化', '系统配置', '系统加固', '补丁安装',
    '存储设备安装', '存储配置', 'LUN划分', '存储映射', '存储性能优化',
    '虚拟化平台部署', 'VMware ESXi安装', 'vCenter配置', '虚拟机创建', '虚拟网络配置', '虚拟存储配置', '虚拟机迁移',
    '云平台部署', '云账号开通', '云资源申请', '云网络配置', '云安全配置', '云监控配置', '应用云化改造', '数据云迁移',
    '中间件部署', '数据库安装', '数据库配置', '应用软件部署', '应用配置', '数据导入',
    '备份系统部署', '备份策略配置', '备份测试', '灾备系统部署', '灾备演练',
    '功能测试', '性能测试', '压力测试', '兼容性测试', '安全测试', '容灾切换测试',
    '系统监控部署', '系统运维', '性能优化', '补丁管理', '备份管理', '故障恢复',
    '系统升级', '系统扩容', '系统迁移', '业务割接',
    
    // === 升级替换专项（7个）===
    '系统现状评估', '升级方案设计', '兼容性验证', '完整数据备份', '系统替换部署', '数据配置迁移', '旧系统退役',
    
    // === 搬迁项目专项（10个）===
    '系统清单盘点', '数据完整备份', '应用配置备份', '系统设备搬迁', '系统重新部署', '数据恢复验证', '应用功能测试', '性能基准测试', '业务切换上线', '搬迁验收',
    
    // === 应急项目专项（5个）===
    '应急启动', '故障快速定位', '应急恢复方案', '业务紧急恢复', '应急处理总结',
    
    // === 扩容项目专项（5个）===
    '系统容量评估', '扩容方案设计', '资源扩展实施', '性能测试验证', '扩容后优化',
    
    // === 优化项目专项（3个）===
    '系统性能分析', '优化措施实施', '优化成果验证'
];

// ============================================
// 能基项目阶段（66个基础 + 60个特征 = 126个）
// ============================================
const infrastructureStages = [
    // === 基础阶段（66个）===
    '需求调研', '现场勘查', '机房设计', '机房规划', '承重评估', '电力容量评估', '制冷需求评估',
    '机房装修', '防静电地板铺设', '吊顶安装', '隔断安装', '机房门窗安装',
    '配电柜安装', '配电系统安装', 'UPS安装', 'UPS配置', '电池安装', 'PDU安装', '供电测试',
    '精密空调安装', '空调配置', '冷通道部署', '新风系统安装', '制冷测试',
    '机柜安装', '机柜布局', '机柜接地', '机柜理线',
    '桥架安装', '综合布线', '网络布线', '电力布线', '光纤熔接', '线缆标识', '布线测试',
    '气体消防系统安装', '烟感探测器安装', '消防测试',
    '门禁系统安装', '门禁配置', '视频监控安装', '监控配置', '监控存储配置',
    '动环监控系统部署', '温湿度传感器安装', '漏水检测安装', '电量监测配置', '动环平台配置', '告警配置',
    '供电系统测试', '制冷系统测试', '消防系统测试', '安防系统测试', '动环系统测试', '综合测试', '满负载测试',
    '机房巡检', '设备维护', 'UPS维护', '空调维护', '电池维护', '环境监测',
    '机房搬迁', '机房改造', '机房扩容', '应急维护',
    
    // === 机房搬迁专项（详细，45个）===
    '搬迁需求分析', '新机房选址', '新机房设计', '搬迁方案设计', '搬迁风险评估', '搬迁窗口规划',
    '新机房装修', '新机房供配电', '新机房UPS', '新机房空调', '新机房消防', '新机房门禁', '新机房监控', '新机房动环', '新机房布线', '新机房机柜',
    '设备清单盘点', '设备依赖梳理', '数据备份', '配置备份', '设备标识', '线缆标识',
    '新机房环境测试', '搬迁演练',
    '第一批设备搬迁', '第一批设备上架', '第一批业务验证',
    '核心设备搬迁', '核心设备上架', '核心业务验证',
    '网络设备迁移', '网络连接重建', '网络路由调整', '网络测试',
    '存储系统迁移', '数据库迁移', '应用系统迁移',
    '业务系统启动', '业务功能测试', '用户验证', '7x24监控',
    '旧机房设备下架', '旧机房退租', '搬迁总结', '搬迁验收',
    
    // === 机房翻新专项（8个精简）===
    '翻新需求评估', '分期翻新规划', '设备临时迁移', '分区改造施工', '设备迁回安装', '系统恢复测试', '整体优化', '翻新验收',
    
    // === 应急项目专项（3个）===
    '应急抢修', '临时供电/制冷', '应急恢复',
    
    // === 扩容项目专项（2个）===
    '机房扩容设计', '扩容实施验收',
    
    // === 优化项目专项（2个）===
    '能效优化分析', '优化改造实施'
];

// ============================================
// 通用阶段（40个）
// ============================================
const generalStages = [
    '项目启动', '项目立项', '需求确认', '需求分析', '方案设计', '方案评审',
    '设备选型', '设备采购', '设备到货', '设备验收',
    '现场勘查', '设备安装', '系统部署', '系统配置', '系统集成',
    '单元测试', '集成测试', '系统测试', '用户验收测试', '性能测试',
    '试运行', '数据迁移', '业务割接', '正式上线',
    '用户培训', '管理员培训', '操作手册编写', '技术文档编写',
    '项目验收', '验收报告', '项目交接',
    '质保期维护', '运维支持', '日常维护', '故障处理', '巡检维护', '应急响应',
    '项目暂停', '项目完成', '其他'
];

// ============================================
// 应急项目通用阶段（15个）
// ============================================
const emergencyStages = [
    // 响应阶段
    '应急启动', '应急团队集结', '现场评估', '影响范围确认',
    
    // 处理阶段
    '故障快速定位', '应急方案制定', '临时措施实施', '业务快速恢复',
    
    // 修复阶段
    '根因分析', '永久解决方案', '系统修复', '功能验证',
    
    // 总结阶段
    '应急总结', '改进措施', '文档归档'
];

// ============================================
// 扩容项目通用阶段（12个）
// ============================================
const expansionStages = [
    // 评估阶段
    '容量现状评估', '业务增长预测', '扩容需求分析',
    
    // 设计阶段
    '扩容方案设计', '资源规划', '预算评估',
    
    // 实施阶段
    '资源采购', '扩容实施', '配置调整',
    
    // 验证阶段
    '性能测试', '压力测试', '扩容验收'
];

// ============================================
// 优化项目通用阶段（10个）
// ============================================
const optimizationStages = [
    // 分析阶段
    '性能现状分析', '瓶颈识别', '优化需求确认',
    
    // 设计阶段
    '优化方案设计', '优化目标设定',
    
    // 实施阶段
    '优化措施实施', '参数调优', '配置优化',
    
    // 验证阶段
    '优化效果测试', '优化成果验收'
];

// ============================================
// 售后项目阶段分类
// ============================================
const postsalesStageCategories = {
    general: { 
        label: '通用阶段', 
        icon: '📦', 
        description: '适用于所有类型的项目',
        stages: generalStages 
    },
    network: { 
        label: '网络项目', 
        icon: '🌐', 
        description: '园区网、数据中心、IP电话、视频会议、网络安全等',
        stages: networkStages 
    },
    system: { 
        label: '系统项目', 
        icon: '🖥️', 
        description: '服务器、存储、虚拟化、云服务等',
        stages: systemStages 
    },
    infrastructure: { 
        label: '能基项目', 
        icon: '🏢', 
        description: '机房、机柜、布线、UPS、空调、动环、监控等',
        stages: infrastructureStages 
    },
    emergency: { 
        label: '应急项目', 
        icon: '🚨', 
        description: '应急响应、故障抢修、紧急恢复',
        stages: emergencyStages 
    },
    expansion: { 
        label: '扩容项目', 
        icon: '📈', 
        description: '系统扩容、网络扩容、机房扩容',
        stages: expansionStages 
    },
    optimization: { 
        label: '优化项目', 
        icon: '⚡', 
        description: '性能优化、架构优化、能效优化',
        stages: optimizationStages 
    }
};

// ============================================
// 阶段统计
// ============================================
console.log('='.repeat(50));
console.log('项目阶段统计 V2.0');
console.log('='.repeat(50));
console.log('售前项目:', presalesStages.length, '个阶段');
console.log('网络项目:', networkStages.length, '个阶段（含特征项目）');
console.log('系统项目:', systemStages.length, '个阶段（含特征项目）');
console.log('能基项目:', infrastructureStages.length, '个阶段（含特征项目）');
console.log('通用阶段:', generalStages.length, '个阶段');
console.log('应急项目:', emergencyStages.length, '个阶段');
console.log('扩容项目:', expansionStages.length, '个阶段');
console.log('优化项目:', optimizationStages.length, '个阶段');
console.log('='.repeat(50));
console.log('总计:', 
    presalesStages.length + 
    networkStages.length + 
    systemStages.length + 
    infrastructureStages.length + 
    generalStages.length +
    emergencyStages.length +
    expansionStages.length +
    optimizationStages.length, 
    '个专业阶段');
console.log('='.repeat(50));

// 当前选中的售后阶段分类
let currentStageCategory = 'general';

// ============================================
// 售后项目阶段（扁平化列表，供简单HTML使用）
// 包含所有售后阶段的合集，适用于不使用分类的场景
// ============================================
const postsalesStages = [
    // 通用阶段 (40个)
    ...generalStages,
    
    // 网络项目核心阶段 (约50个)
    '网络拓扑设计', '设备选型', 'IP地址规划', 'VLAN规划', '路由规划', '安全策略设计',
    '网络布线', '设备安装上架', '交换机配置', '路由器配置', 'VLAN配置', '链路聚合配置',
    '数据中心网络设计', '核心交换配置', '服务器接入配置', '存储网络配置',
    'WAN链路配置', 'MPLS配置', 'VPN配置', 'SD-WAN部署',
    '无线AP部署', 'AC控制器配置', '无线网络优化', '无线覆盖测试',
    'CUCM服务器部署', 'CUCM配置', 'IP电话部署', '语音网关配置', 'SIP中继配置', '话机配置',
    '视频会议系统部署', 'MCU配置', '视频终端配置', '视频会议测试',
    '防火墙部署', '防火墙策略配置', 'IPS/IDS部署', '堡垒机部署', '上网行为管理', 'NAC部署',
    '网络连通性测试', '网络性能测试', '网络安全测试', '压力测试', '故障切换测试',
    '网络监控部署', '网络运维', '网络优化', '故障排查', '配置备份',
    '网络割接', '网络扩容', '网络升级',
    
    // 系统项目核心阶段 (约40个)
    '系统架构设计', '容量规划', '高可用设计', '灾备方案设计',
    '服务器选型', '服务器安装', '操作系统安装', '系统初始化', 'RAID配置', '系统加固',
    '存储设备安装', '存储配置', 'LUN划分', '存储映射', '存储性能优化',
    '虚拟化平台部署', 'VMware ESXi安装', 'vCenter配置', '虚拟机创建', '虚拟网络配置', '虚拟机迁移',
    '云平台部署', '云账号开通', '云资源申请', '云网络配置', '云安全配置', '应用云化改造', '数据云迁移',
    '数据库安装', '数据库配置', '中间件部署', '应用软件部署', '应用配置', '数据导入',
    '备份系统部署', '备份策略配置', '备份测试', '灾备系统部署', '灾备演练',
    '系统监控部署', '系统运维', '性能优化', '补丁管理', '系统升级', '系统扩容', '系统迁移',
    
    // 能基项目核心阶段 (约35个)
    '现场勘查', '机房设计', '机房规划', '承重评估', '电力容量评估',
    '机房装修', '防静电地板铺设', '吊顶安装', '机房门窗安装',
    '配电柜安装', '配电系统安装', 'UPS安装', 'UPS配置', '电池安装', 'PDU安装', '供电测试',
    '精密空调安装', '空调配置', '冷通道部署', '新风系统安装', '制冷测试',
    '机柜安装', '机柜布局', '机柜接地', '机柜理线',
    '综合布线', '网络布线', '电力布线', '光纤熔接', '线缆标识', '布线测试',
    '气体消防系统安装', '消防测试',
    '门禁系统安装', '视频监控安装', '监控配置',
    '动环监控系统部署', '温湿度传感器安装', '动环平台配置', '告警配置',
    '供电系统测试', '制冷系统测试', '综合测试', '机房巡检', '设备维护',
    
    // 应急、扩容、优化阶段 (37个)
    ...emergencyStages,
    ...expansionStages,
    ...optimizationStages
];
